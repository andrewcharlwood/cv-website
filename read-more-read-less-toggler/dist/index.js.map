{"version":3,"file":"index.js","sources":["../src/styled/index.js","../src/styled/mediaBreakPoints.js","../src/index.js"],"sourcesContent":["import styled from 'styled-components'\nimport { BsArrowUpShort } from 'react-icons/all'\n\nexport const Paragraph = styled.p`\n  max-height: ${(props) => props.paragraphHeight};\n  overflow: hidden;\n  background-image: ${(props) =>\n    props.gradientColor && props.gradientColor};\n  background-clip: ${(props) => props.collapse && 'text'};\n  -webkit-background-clip: ${(props) => props.collapse && 'text'};\n  -webkit-text-fill-color: ${(props) => props.collapse && 'transparent'};\n  transition: ${(props) => (props.collapse ? 'all 0.1s' : 'all 1s')};\n  line-height: 22px;\n  margin: 10px;\n`\n\nexport const ReadMoreWrapper = styled.span`\n  cursor: pointer;\n  text-transform: uppercase;\n  font-size: 14px;\n  font-weight: 700;\n  line-height: 20.8px;\n  position: relative;\n  margin: 10px;\n  display: flex;\n  align-items: center;\n  color: ${(props) => (props.buttonColor && props.buttonColor)};\n`\n\nexport const Caret = styled(BsArrowUpShort)`\n  width: 36px;\n  height: 36px;\n  transform: ${(props) => props.collapse && 'rotate(-180deg)'};\n`\n","export const BREAKPOINTS = {\n  mobile: 576\n}\n","import React, { useEffect, useRef, useState } from 'react'\nimport { Paragraph, ReadMoreWrapper, Caret } from './styled/index'\nimport { BREAKPOINTS } from './styled/mediaBreakPoints'\n\nexport const ReadMoreToggler = ({\n  children,\n  mobileBreakLines,\n  desktopBreakLines,\n  topGradient,\n  bottomGradient,\n  buttonColor\n}) => {\n  const [readMore, setReadMore] = useState(false)\n  const [isParagraphExceed, setIsParagraphExceed] = useState(false)\n  const paragraphRef = useRef()\n  const isOverflow = isParagraphExceed && !readMore\n  const [paragraphCollapseHeight, setParagraphCollapseHeight] = useState()\n  const [paragraphScrollHeight, setParagraphScrollHeight] = useState()\n  const gradientColor = (topGradient && bottomGradient) ? `linear-gradient(to top,${topGradient},${bottomGradient})` : 'linear-gradient(to top,#FFFFFF,#25232363)'\n\n  const toggleHandler = () => {\n    setReadMore(!readMore)\n  }\n\n  const calculateHeight = () => {\n    // dynamically set the current div line-height\n    const elementStyle = window.getComputedStyle(paragraphRef.current)\n    const calculatedLineHeight = elementStyle.getPropertyValue('line-height')\n\n    // remove px from line-height value\n    const lineHeight = parseInt(calculatedLineHeight, 10)\n\n    // isoverflow calculations\n    const isMobileBreakpoint = window.innerWidth < BREAKPOINTS.mobile\n    const definedMobileBreakLines = mobileBreakLines ?? 5\n    const definedDesktopBreakLines = desktopBreakLines ?? 3\n    const calculatedAcceptableLines = (isMobileBreakpoint ? definedMobileBreakLines : definedDesktopBreakLines)\n    const calculatedParagraphHeight = calculatedAcceptableLines * lineHeight\n    setParagraphCollapseHeight(calculatedParagraphHeight)\n    const scrollHeight = paragraphRef.current?.scrollHeight\n    setParagraphScrollHeight(scrollHeight)\n    const isParagraphHeightGreater = calculatedParagraphHeight < scrollHeight\n    setIsParagraphExceed(isParagraphHeightGreater)\n  }\n\n  useEffect(() => {\n    window.addEventListener('resize', calculateHeight)\n    calculateHeight()\n\n    // to remove event listner on unmount\n    return () => {\n      window.removeEventListener('resize', calculateHeight)\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  const ReadMoreButton = () =>\n    isParagraphExceed && (\n      <ReadMoreWrapper onClick={toggleHandler} buttonColor={buttonColor}>\n        <Caret collapse={isOverflow} />\n        {readMore ? 'READ LESS' : 'READ MORE'}\n      </ReadMoreWrapper>\n    )\n\n  return (\n    <div>\n      <Paragraph\n        collapse={isOverflow}\n        paragraphHeight={readMore ? `${paragraphScrollHeight}px` : `${paragraphCollapseHeight}px`}\n        gradientColor={isOverflow ? gradientColor : false}\n        ref={paragraphRef}\n      >\n        {children}\n      </Paragraph>\n      <ReadMoreButton />\n    </div>\n  )\n}\n"],"names":["Paragraph","styled","p","props","paragraphHeight","gradientColor","collapse","ReadMoreWrapper","span","buttonColor","Caret","BsArrowUpShort","BREAKPOINTS","mobile","ReadMoreToggler","children","mobileBreakLines","desktopBreakLines","topGradient","bottomGradient","useState","readMore","setReadMore","isParagraphExceed","setIsParagraphExceed","paragraphRef","useRef","isOverflow","paragraphCollapseHeight","setParagraphCollapseHeight","paragraphScrollHeight","setParagraphScrollHeight","toggleHandler","calculateHeight","elementStyle","window","getComputedStyle","current","calculatedLineHeight","getPropertyValue","lineHeight","parseInt","isMobileBreakpoint","innerWidth","definedMobileBreakLines","definedDesktopBreakLines","calculatedAcceptableLines","calculatedParagraphHeight","scrollHeight","isParagraphHeightGreater","useEffect","addEventListener","removeEventListener","ReadMoreButton","React"],"mappings":"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"}