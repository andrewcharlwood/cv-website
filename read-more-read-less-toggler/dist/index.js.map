{"version":3,"file":"index.js","sources":["../src/styled/index.js","../src/styled/mediaBreakPoints.js","../src/index.js"],"sourcesContent":["import styled from 'styled-components'\nimport { BsArrowUpShort } from 'react-icons/bs'\n\nexport const Paragraph = styled.p`\n  max-height: ${(props) => props.paragraphHeight};\n  overflow: hidden;\n  background-image: ${(props) => props.gradientColor && props.gradientColor};\n  background-clip: ${(props) => props.collapse && 'text'};\n  -webkit-background-clip: ${(props) => props.collapse && 'text'};\n  -webkit-text-fill-color: ${(props) => props.collapse};\n  transition: ${(props) => (props.collapse ? 'all 0.3s' : 'all 0.5s')};\n  line-height: 22px;\n  margin: 10px;\n`\n\nexport const ReadMoreWrapper = styled.span`\n  cursor: pointer;\n  text-transform: uppercase;\n  font-size: 14px;\n  font-weight: 700;\n  line-height: 20.8px;\n  position: relative;\n  margin: 10px;\n  display: flex;\n  align-items: center;\n  color: ${(props) => props.buttonColor && props.buttonColor};\n`\n\nexport const Caret = styled(BsArrowUpShort)`\n  width: 36px;\n  height: 36px;\n  transform: ${(props) => props.collapse && 'rotate(-180deg)'};\n`\n","export const BREAKPOINTS = {\n  mobile: 576\n}\n","import React, { useEffect, useRef, useState } from 'react'\nimport { Paragraph, ReadMoreWrapper, Caret } from './styled/index'\nimport { BREAKPOINTS } from './styled/mediaBreakPoints'\nimport debounce from 'lodash/debounce';\n\nexport const ReadMoreToggler = ({\n  children,\n  mobileBreakLines,\n  desktopBreakLines,\n  topGradient,\n  bottomGradient,\n  buttonColor\n}) => {\n  const [readMore, setReadMore] = useState(false)\n  const [isParagraphExceed, setIsParagraphExceed] = useState(false)\n  const paragraphRef = useRef()\n  const isOverflow = isParagraphExceed && !readMore\n  const [paragraphCollapseHeight, setParagraphCollapseHeight] = useState()\n  const [paragraphScrollHeight, setParagraphScrollHeight] = useState()\n  const gradientColor =\n    topGradient && bottomGradient\n      ? `linear-gradient(to top,${topGradient},${bottomGradient})`\n      : 'linear-gradient(to top,#FFFFFF,#25232363)'\n\n  const toggleHandler = () => {\n    const scrollHeight = paragraphRef.current?.scrollHeight\n    setParagraphScrollHeight(scrollHeight)\n\n    // Toggle the readMore state\n    setReadMore((prev) => !prev)\n  }\n\n  const calculateHeight = () => {\n    // dynamically set the current div line-height\n    const elementStyle = window.getComputedStyle(paragraphRef.current)\n    const calculatedLineHeight = elementStyle.getPropertyValue('line-height')\n\n    // remove px from line-height value\n    const lineHeight = parseInt(calculatedLineHeight, 10)\n\n    // isoverflow calculations\n    const isMobileBreakpoint = window.innerWidth < BREAKPOINTS.mobile\n    const definedMobileBreakLines = mobileBreakLines ?? 5\n    const definedDesktopBreakLines = desktopBreakLines ?? 3\n    const calculatedAcceptableLines = isMobileBreakpoint\n      ? definedMobileBreakLines\n      : definedDesktopBreakLines\n    const calculatedParagraphHeight = calculatedAcceptableLines * lineHeight\n    setParagraphCollapseHeight(calculatedParagraphHeight)\n    const scrollHeight = paragraphRef.current?.scrollHeight\n    setParagraphScrollHeight(scrollHeight)\n    const isParagraphHeightGreater = calculatedParagraphHeight < scrollHeight\n    setIsParagraphExceed(isParagraphHeightGreater)\n  }\n\n  useEffect(() => {\n    const debouncedResize = debounce(calculateHeight, 100) // Adjust debounce delay as needed\n    window.addEventListener('resize', debouncedResize)\n    calculateHeight()\n\n    return () => {\n      window.removeEventListener('resize', debouncedResize)\n    }\n  }, [])\n\n  const ReadMoreButton = () =>\n    isParagraphExceed && (\n      <ReadMoreWrapper onClick={toggleHandler} buttonColor={buttonColor}>\n        <Caret collapse={isOverflow} />\n        {readMore ? 'READ LESS' : 'READ MORE'}\n      </ReadMoreWrapper>\n    )\n\n  return (\n    <div>\n      <Paragraph\n        collapse={isOverflow}\n        paragraphHeight={\n          readMore\n            ? `${paragraphScrollHeight || 'auto'}px`\n            : `${paragraphCollapseHeight || 'auto'}px`\n        }\n        gradientColor={isOverflow ? gradientColor : false}\n        ref={paragraphRef}\n      >\n        {children}\n      </Paragraph>\n      <ReadMoreButton />\n    </div>\n  )\n}\n"],"names":["Paragraph","styled","p","props","paragraphHeight","gradientColor","collapse","ReadMoreWrapper","span","buttonColor","Caret","BsArrowUpShort","BREAKPOINTS","mobile","ReadMoreToggler","children","mobileBreakLines","desktopBreakLines","topGradient","bottomGradient","useState","readMore","setReadMore","isParagraphExceed","setIsParagraphExceed","paragraphRef","useRef","isOverflow","paragraphCollapseHeight","setParagraphCollapseHeight","paragraphScrollHeight","setParagraphScrollHeight","toggleHandler","scrollHeight","current","prev","calculateHeight","elementStyle","window","getComputedStyle","calculatedLineHeight","getPropertyValue","lineHeight","parseInt","isMobileBreakpoint","innerWidth","definedMobileBreakLines","definedDesktopBreakLines","calculatedAcceptableLines","calculatedParagraphHeight","isParagraphHeightGreater","useEffect","debouncedResize","debounce","addEventListener","removeEventListener","ReadMoreButton","React"],"mappings":"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"}